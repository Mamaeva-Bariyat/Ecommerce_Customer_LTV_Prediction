# –ü—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ LTV –∫–ª–∏–µ–Ω—Ç–∞ (–ø–æ–∂–∏–∑–Ω–µ–Ω–Ω–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å)

–ü—Ä–æ–µ–∫—Ç –ø–æ –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—é **Lifetime Value (LTV)** –∫–ª–∏–µ–Ω—Ç–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞ (Olist, –ë—Ä–∞–∑–∏–ª–∏—è).  
–¶–µ–ª—å ‚Äî —Å–µ–≥–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–ª–∏–µ–Ω—Ç–æ–≤ –ø–æ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π —Ü–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ —É–¥–µ—Ä–∂–∞–Ω–∏—è –∏ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–∞.

## –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏

**Lifetime Value (LTV)** ‚Äî —ç—Ç–æ —Å—É–º–º–∞—Ä–Ω–∞—è –≤—ã—Ä—É—á–∫–∞, –∫–æ—Ç–æ—Ä—É—é –∫–ª–∏–µ–Ω—Ç –ø—Ä–∏–Ω–µ—Å—ë—Ç –∫–æ–º–ø–∞–Ω–∏–∏ –∑–∞ –≤—Å—ë –≤—Ä–µ–º—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è.  
–í –ø—Ä–æ–µ–∫—Ç–µ —Ä–µ—à–∞–µ—Ç—Å—è –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞ e-commerce:

- 95‚Äì99% –∫–ª–∏–µ–Ω—Ç–æ–≤ –¥–µ–ª–∞—é—Ç —Ç–æ–ª—å–∫–æ –æ–¥–Ω—É –ø–æ–∫—É–ø–∫—É  
- –ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–∫—É–ø–∫–∏ –∫—Ä–∞–π–Ω–µ —Ä–µ–¥–∫–∏ (~0.01‚Äì0.02%)  
- –ù—É–∂–Ω–æ –ø—Ä–µ–¥—Å–∫–∞–∑–∞—Ç—å –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –ø–æ–∫—É–ø–∫–∏ –∏ –æ—Ü–µ–Ω–∏—Ç—å –±—É–¥—É—â—É—é —Ü–µ–Ω–Ω–æ—Å—Ç—å –∫–ª–∏–µ–Ω—Ç–∞

## –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ –≤ –ø—Ä–æ–µ–∫—Ç–µ

1. **EDA** ‚Äî –∞–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö, RFM-–∞–Ω–∞–ª–∏–∑, —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ –∑–∞–∫–∞–∑–æ–≤, –≥–µ–æ–≥—Ä–∞—Ñ–∏—è, –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
2. **Feature Engineering**  
   - RFM-–º–µ—Ç—Ä–∏–∫–∏ (recency, frequency, monetary)  
   - RFM-—Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—è (Champions, Loyal, At Risk, Hibernating)  
   - rfm_encoded (Label Encoding)  
   - geo one-hot (—à—Ç–∞—Ç –∫–ª–∏–µ–Ω—Ç–∞)  
   - category_avg_check (—Å—Ä–µ–¥–Ω–∏–π —á–µ–∫ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º)  
   - interactions (frequency √ó category_diversity –∏ –¥—Ä.)  
   - winsorize –Ω–∞ monetary (–æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–±—Ä–æ—Å–æ–≤)
3. **–ú–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ**  
   - –£–ø—Ä–æ—â—ë–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥: **—Ç–æ–ª—å–∫–æ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –≤–æ–∑–≤—Ä–∞—Ç–∞**  
   - –ê–Ω—Å–∞–º–±–ª—å: XGBoost + LightGBM + CatBoost  
   - –ö—Ä–æ—Å—Å-–≤–∞–ª–∏–¥–∞—Ü–∏—è (StratifiedKFold 5 —Ñ–æ–ª–¥–æ–≤)  
   - –ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ –∫–ª–∞—Å—Å–æ–≤ (scale_pos_weight √ó 5 + is_unbalance + auto_class_weights)  
   - Out-of-fold –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è  
   - ROC-AUC –ø–æ –∫—Ä–æ—Å—Å-–≤–∞–ª–∏–¥–∞—Ü–∏–∏: ~0.82‚Äì0.89
4. **–£–ø—Ä–æ—â—ë–Ω–Ω—ã–π LTV**  
   LTV = –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤–æ–∑–≤—Ä–∞—Ç–∞ √ó —Å—Ä–µ–¥–Ω–∏–π –ø–æ–≤—Ç–æ—Ä–Ω—ã–π —á–µ–∫ (~140 R$)
5. **–°–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—è**  
   - 10 –≥—Ä—É–ø–ø –ø–æ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–Ω–æ–º—É LTV
.<p>

  **üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:**

```–ü—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ_LTV_–∫–ª–∏–µ–Ω—Ç–∞/

‚îÇ
‚îú‚îÄ‚îÄ data/                  # –ü–∞–ø–∫–∞ –¥–ª—è –¥–∞–Ω–Ω—ã—Ö (–ø—É—Å—Ç–∞—è –≤ GitHub)
‚îÇ  
‚îÇ
‚îú‚îÄ‚îÄ notebooks/             # Jupyter –Ω–æ—É—Ç–±—É–∫–∏ —Å —ç—Ç–∞–ø–∞–º–∏ –∞–Ω–∞–ª–∏–∑–∞
‚îÇ   ‚îú‚îÄ‚îÄ 1_EDA.ipynb
|   ‚îú‚îÄ‚îÄ 2_Text_Clustering.ipynb
‚îÇ   ‚îú‚îÄ‚îÄ 3_LTV_feature_engineering.ipynb
‚îÇ   ‚îú‚îÄ‚îÄ 4.LTV_ modeling.ipynb
‚îÇ 
‚îÇ
‚îú‚îÄ‚îÄ src/                   # –°–∫—Ä–∏–ø—Ç—ã Python
‚îÇ   ‚îú‚îÄ‚îÄ utils.py           # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ modeling.py        # –ó–∞–ø—É—Å–∫ –∏ –æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π
‚îÇ
‚îú‚îÄ‚îÄ requirements.txt       # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
‚îú‚îÄ‚îÄ download_data.py       # –°–∫—Ä–∏–ø—Ç –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö —Å Kaggle
‚îú‚îÄ‚îÄ .gitignore             # –§–∞–π–ª—ã/–ø–∞–ø–∫–∏, –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º—ã–µ Git
‚îî‚îÄ‚îÄ README.md              # –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
```

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

- ROC-AUC –ø–æ –∫—Ä–æ—Å—Å-–≤–∞–ª–∏–¥–∞—Ü–∏–∏: **0.8261**  
- –°—Ä–µ–¥–Ω–∏–π –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–Ω—ã–π LTV: **~11‚Äì15 $**  
- –î–æ–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤ —Å LTV > 0: ~100% (–∑–∞–≤—ã—à–µ–Ω–∏–µ –∏–∑-–∑–∞ –≤—ã—Å–æ–∫–æ–≥–æ recall)  
- –õ—É—á—à–∏–µ —Å–µ–≥–º–µ–Ω—Ç—ã: **Decile 8‚Äì10** (—Å—Ä–µ–¥–Ω–∏–π LTV 80‚Äì123 R$) ‚Äî –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –¥–ª—è –∞–∫—Ü–∏–π  
- –¢–æ–ø-–≥—Ä—É–ø–ø (Decile 10): –≤—Å–µ–≥–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–ª–∏–µ–Ω—Ç–æ–≤, –Ω–æ LTV ‚âà 123 $ ‚Äî –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –≤—ã—Å–æ–∫–∞—è –æ—Ç–¥–∞—á–∞

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∞–∫—Ü–∏—è–º (–ø—Ä–∏–º–µ—Ä –¥–ª—è 10 –≥—Ä—É–ø–ø)

| –≥—Ä—É–ø–ø—ã     | –°—Ä–µ–¥–Ω–∏–π LTV | –î–æ–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤ | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –ø–æ –∞–∫—Ü–∏—è–º                              |
|-------------|-------------|---------------|-----------------------------------------------------|
|  1    | ~0.02 R$    | ~75%          | –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —É—Å–∏–ª–∏—è: –æ–±—â–∏–µ —Ä–∞—Å—Å—ã–ª–∫–∏ 1 —Ä–∞–∑ –≤ –∫–≤–∞—Ä—Ç–∞–ª |
|  4    | ~46.83 R$   | ~25%          | –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è + —Å–∫–∏–¥–∫–∞ 15%                         |
|  10   | ~122.88 R$  | <0.1%         | –ú–∞–∫—Å–∏–º—É–º –≤–Ω–∏–º–∞–Ω–∏—è: –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è, VIP  |

# üì• –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫
1Ô∏è‚É£ –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è<p>
```
git clone https://github.com/username/project.git
cd project
```
2Ô∏è‚É£ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π<p>
```
pip install -r requirements.txt
```
3Ô∏è‚É£ –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö<p>
–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–∞—Ç–∞—Å–µ—Ç —Å Kaggle. –ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –Ω–æ—É—Ç–±—É–∫–æ–≤ –µ–≥–æ –Ω—É–∂–Ω–æ —Å–∫–∞—á–∞—Ç—å.
–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ ```Kaggle CLI.```
–°–∫–∞—á–∞–π—Ç–µ –¥–∞—Ç–∞—Å–µ—Ç:
```python download_data.py```
–§–∞–π–ª –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω –≤ data/.<p>
4Ô∏è‚É£ –ó–∞–ø—É—Å–∫ –Ω–æ—É—Ç–±—É–∫–æ–≤
```jupyter notebook.```
–û—Ç–∫—Ä–æ–π—Ç–µ –∏ –≤—ã–ø–æ–ª–Ω—è–π—Ç–µ —à–∞–≥–∏ –≤ –Ω–æ—É—Ç–±—É–∫–∞—Ö –ø–æ –ø–æ—Ä—è–¥–∫—É.







